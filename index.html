<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rotiser√≠a El Tachi</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #f8f9fa;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      background: #003366;
      color: #fff;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
    main {
      padding: 1rem;
      max-width: 800px;
      margin: auto;
    }
    h2 {
      color: #003366;
      border-bottom: 2px solid #ffcc00;
      padding-bottom: 0.2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .producto {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      border-bottom: 1px solid #ddd;
    }
    .producto-info {
      text-align: left;
    }
    .producto h3 {
      margin: 0.2rem 0;
      color: #004c99;
    }
    .producto p {
      margin: 0.1rem 0;
    }
    .contador {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .contador button {
      background: #003366;
      color: #ffcc00;
      border: none;
      padding: 0.3rem 0.6rem;
      font-weight: bold;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 5px;
    }
    #resumen {
      margin-top: 2rem;
      padding: 1rem;
      background: #fff3cd;
      border: 1px solid #ffeeba;
    }
    #resumen button {
      background: #003366;
      color: #ffcc00;
      border: none;
      padding: 0.8rem 1.2rem;
      margin-top: 1rem;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
      border-radius: 5px;
    }
    #resumen button:hover {
      background: #002244;
    }
    label {
      display: block;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://raw.githubusercontent.com/ludmilasolutions/el-tachi/main/logo.png" alt="Rotiser√≠a El Tachi">
    <h1>Rotiser√≠a El Tachi</h1>
    <p>¬°Hac√© tu pedido desde la web!</p>
  </header>

  <main>
    <div id="menu"></div>

    <label><input type="radio" name="envio" value="retiro" checked> Retiro en el local</label>
    <label><input type="radio" name="envio" value="envio"> Env√≠o a domicilio (+$1000)</label>
    <label>Nombre: <input type="text" id="nombre"></label>
    <label>Direcci√≥n: <input type="text" id="direccion"></label>

    <div id="resumen">
      <h3>Resumen del pedido</h3>
      <ul id="lista"></ul>
      <p><strong>Total: $<span id="total">0</span></strong></p>
      <button onclick="enviarPedido()">Hacer pedido por WhatsApp</button>
    </div>
  </main>

  <script>
    const productos = {
      "üçï Pizzas": [
        { nombre: "Pizza Muzarella", precio: 5000, desc: "Cl√°sica con tomate y queso muzarella" },
        { nombre: "Pizza Especial", precio: 7000, desc: "Con salsa de tomate, jamon, queso muzarella, huevo, morron, aceitunas" },
      ],
      "üçî Hamburguesas": {"Vienen con papas" },[
        { nombre: "Hamburguesa Clasica", precio: 5000, desc: "Pan, carne, lechuga y tomate" },
        { nombre: "Hamburguesa Especial", precio: 6000, desc: "Pan, carne, jamon, queso, huevo, lechuga y tomate" },
      ],
      "ü•ü Empanadas": [
        { nombre: "Empanada de Carne", precio: 350, desc: "Jugosa y tradicional" },
        { nombre: "Empanada de Pollo", precio: 350, desc: "Con cebolla y huevo" },
      ],
      "üçü Papas Fritas": [
        { nombre: "Papas Cl√°sicas", precio: 900, desc: "Porci√≥n grande" },
        { nombre: "Papas con Cheddar", precio: 1300, desc: "Con queso y panceta" },
      ],
      "üçΩÔ∏è Men√∫ al Plato": [
        { nombre: "Milanesa con Papas", precio: 2500, desc: "Milanesa grande con guarnici√≥n" }
      ],
      "ü•§ Bebidas": [
        { nombre: "Coca-Cola 500ml", precio: 700, desc: "Gaseosa" },
        { nombre: "Agua sin gas", precio: 500, desc: "Botella 500ml" }
      ]
    };

    const menuDiv = document.getElementById('menu');
    const lista = document.getElementById('lista');
    const totalSpan = document.getElementById('total');
    const cantidades = {};

    for (let categoria in productos) {
      const h2 = document.createElement('h2');
      h2.textContent = categoria;
      menuDiv.appendChild(h2);

      productos[categoria].forEach((prod, i) => {
        const div = document.createElement('div');
        div.className = 'producto';
        const id = `${categoria}-${i}`;
        cantidades[id] = 0;

        div.innerHTML = `
          <div class="producto-info">
            <h3>${prod.nombre} - $${prod.precio}</h3>
            <p>${prod.desc}</p>
          </div>
          <div class="contador">
            <button onclick="cambiarCantidad('${id}', -1)">‚àí</button>
            <span id="cantidad-${id}">0</span>
            <button onclick="cambiarCantidad('${id}', 1)">+</button>
          </div>
        `;
        div.dataset.nombre = prod.nombre;
        div.dataset.precio = prod.precio;
        menuDiv.appendChild(div);
      });
    }

    function cambiarCantidad(id, delta) {
      cantidades[id] = Math.max(0, cantidades[id] + delta);
      document.getElementById(`cantidad-${id}`).textContent = cantidades[id];
      actualizarResumen();
    }

    function actualizarResumen() {
      lista.innerHTML = '';
      let total = 0;

      for (let id in cantidades) {
        const cantidad = cantidades[id];
        if (cantidad > 0) {
          const productoDiv = document.querySelector(`[data-id="${id}"]`) || document.querySelector(`[id="cantidad-${id}"]`).closest('.producto');
          const nombre = productoDiv.dataset.nombre;
          const precio = parseInt(productoDiv.dataset.precio);
          const li = document.createElement('li');
          li.textContent = `${nombre} x${cantidad} - $${precio * cantidad}`;
          lista.appendChild(li);
          total += precio * cantidad;
        }
      }

      const envio = document.querySelector('input[name=envio]:checked').value;
      if (envio === 'envio') total += 1000;
      totalSpan.textContent = total;
    }

    document.querySelectorAll('input[name=envio]').forEach(r => r.addEventListener('change', actualizarResumen));

    function enviarPedido() {
      const nombre = document.getElementById('nombre').value.trim();
      const direccion = document.getElementById('direccion').value.trim();
      const envio = document.querySelector('input[name=envio]:checked').value;

      if (!nombre) return alert("Por favor, ingres√° tu nombre.");
      if (envio === 'envio' && !direccion) return alert("Por favor, ingres√° tu direcci√≥n.");
      
      let mensaje = `Hola, soy ${nombre}. Quiero hacer un pedido:\n`;
      let algoSeleccionado = false;

      for (let id in cantidades) {
        const cantidad = cantidades[id];
        if (cantidad > 0) {
          const productoDiv = document.querySelector(`[id="cantidad-${id}"]`).closest('.producto');
          const nombreProd = productoDiv.dataset.nombre;
          const precio = parseInt(productoDiv.dataset.precio);
          mensaje += `- ${nombreProd} x${cantidad} - $${precio * cantidad}\n`;
          algoSeleccionado = true;
        }
      }

      if (!algoSeleccionado) return alert("Seleccion√° al menos un producto.");

      mensaje += envio === 'envio'
        ? `Env√≠o a domicilio a: ${direccion} (+$1000)\n`
        : `Retiro en el local\n`;

      mensaje += `Total: $${totalSpan.textContent}`;
      const url = `https://wa.me/3415923882?text=${encodeURIComponent(mensaje)}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>

